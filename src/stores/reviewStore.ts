import { create } from "zustand";
import { devtools } from "zustand/middleware";
import { immer } from "zustand/middleware/immer";

interface ReviewState {
  isLoading: boolean;
  reviewsData: Review[];
  setReviews: (data: Review) => void;
  getReview: (id: number) => Review;
}

export const useReviewStore = create<ReviewState>()(
  devtools(
    immer((set, get) => ({
      isLoading: true,
      reviewsData: [
        {
          id: 1,
          title: "마음 울리는 여정",
          movie: "기생충",
          content: `
봉준호 감독의 <기생충>은 단순한 스릴러나 가족 드라마의 틀을 훌쩍 넘어서는 작품이다.
영화는 사회의 불평등 구조를 블랙코미디적 시선으로 해부하면서도, 
결국 인간의 욕망과 생존 본능을 적나라하게 드러낸다. 

가장 인상적인 부분은, 영화가 선악 구도를 명확히 나누지 않는다는 점이다. 
누구나 피해자이면서 가해자가 될 수 있고, 
그 복잡한 인간 군상의 교차점에서 관객은 묘한 불편함과 공감을 동시에 느낀다.

특히 마지막 파티 장면은 현실의 폭력성과 인간의 절망이 한순간에 폭발하는 지점으로,
봉준호 감독의 연출력이 절정에 달한 장면 중 하나라고 생각한다. 
영화가 끝난 후에도 한동안 자리를 떠나지 못할 정도로 여운이 깊었다.
`,
          createdAt: "2025-10-01T12:00:00Z",
          author: "kimjisu",
          like: 52,
          comment: 14,
          thumbnail:
            "https://image.tmdb.org/t/p/w500/7IiTTgloJzvGI1TAYymCfbfl3vT.jpg",
        },
        {
          id: 2,
          title: "눈을 뗄 수 없는 스릴",
          movie: "인셉션",
          content: `크리스토퍼 놀란 감독의 대표작 중 하나인 인셉션은 꿈과 현실의 경계를 탐구하는 놀라운 서사와 시각적 충격으로 관객을 사로잡는다. 
          처음에는 복잡하게 느껴지는 꿈 속 구조와 다층적 스토리라인이 시간이 지나면서 점점 흡입력 있게 다가온다. 

          레오나르도 디카프리오가 연기한 도미닉 코브는 개인적인 상실감과 죄책감 속에서 미션을 수행해야 하는 캐릭터로, 인간적 깊이와 긴장감을 동시에 전달한다.
          
          음악과 사운드 디자인 또한 영화의 몰입감을 극대화한다. 한스 짐머의 웅장한 사운드트랙은 감정과 서스펜스를 동시에 끌어올리며, 꿈과 현실 사이의 모호한 경계를 강조한다. 
          반복해서 볼수록 디테일이 보이는 영화로, 처음에는 이해하기 어렵더라도 여러 번 감상하며 놀란 감독 특유의 정교한 구조를 즐기는 재미가 있다.`,
          createdAt: "2025-09-30T16:45:00Z",
          author: "parkminho",
          like: 47,
          comment: 10,
          thumbnail: "",
        },
        {
          id: 3,
          title: "감동적인 성장 이야기",
          movie: "라라랜드",
          content: `라라랜드는 현대 로맨틱 뮤지컬의 정수를 보여주는 작품으로, 화려한 색감과 음악, 그리고 꿈을 좇는 두 청춘의 이야기가 아름답게 펼쳐진다. 
          라이언 고슬링과 엠마 스톤이 연기하는 세바스찬과 미아는 서로 다른 꿈을 가진 인물로, 그들의 사랑과 열정이 관객에게 따뜻하면서도 씁쓸한 감정을 동시에 전달한다.

영화의 강점은 시각적 미장센과 음악의 조화에 있다. 
오프닝 시퀀스의 고속도로 댄스 씬부터 마지막 피아노 솔로까지, 장면마다 색과 움직임, 음악이 완벽하게 어우러져 있다. 
특히 재즈 음악을 중심으로 한 OST는 영화의 낭만적 감성을 극대화하며, 관객이 주인공들의 감정에 자연스럽게 몰입하게 만든다.

이야기 구조는 단순하지만 여운이 강하다. 꿈과 현실, 사랑과 성장 사이에서 선택을 강요받는 주인공들의 모습은 관객에게 깊은 공감을 이끌어낸다. 
마지막 장면의 몽타주 방식은 현실적이면서도 이상적인 상상을 동시에 보여주어, 영화가 끝난 뒤에도 마음에 오래 남는다.`,
          createdAt: "2025-09-28T09:30:00Z",
          author: "leejiwon",
          like: 38,
          comment: 7,
          thumbnail: "",
        },
        {
          id: 4,
          title: "웃음과 감동을 동시에",
          movie: "조커",
          content: `토드 필립스 감독의 조커는 기존 슈퍼히어로 영화와 달리 사회적 소외와 개인적 고통을 중심으로 한 심리 드라마다. 
            호아킨 피닉스가 연기한 아서 플렉은 사회적 억압과 정신적 불안 속에서 점점 변화하며, 관객은 그의 내면적 고통과 분노를 실감나게 경험하게 된다. 
            피닉스의 연기는 매우 압도적이며, 캐릭터와 완전히 일체화되어 있다.

영화는 어두운 분위기와 섬세한 연출로, 현대 도시의 냉혹함과 불평등을 보여준다. 
아서가 점차 조커로 변모하는 과정은 단순한 악역 탄생이 아닌, 사회적 맥락과 개인적 트라우마가 결합된 심리적 서사로, 관객에게 복합적인 감정을 불러일으킨다. 
소소한 장면 하나하나가 캐릭터 이해를 돕는 디테일로 가득 차 있다.

음악과 색감 역시 영화의 톤을 강조한다. 
힐더 구드나드손의 피아노 선율은 아서의 내적 혼란과 외적 폭력성을 섬세하게 연결하며, 카메라 워킹과 조명은 도시의 음울함과 캐릭터의 고립감을 극대화한다. 
영화가 끝난 뒤에도 쉽게 잊히지 않는 강렬한 여운을 남기는 작품이다.`,
          createdAt: "2025-10-02T20:15:00Z",
          author: "choihyun",
          like: 41,
          comment: 9,
          thumbnail:
            "https://image.tmdb.org/t/p/w500/udDclJoHjfjb8Ekgsd4FDteOkCU.jpg",
        },
        {
          id: 5,
          title: "화려한 액션과 재미",
          movie: "어벤져스: 엔드게임",
          content: `어벤져스: 엔드게임은 마블 시네마틱 유니버스(MCU)의 대서사시를 완결짓는 작품으로, 팬들에게는 수년간 쌓인 이야기의 클라이맥스이다. 
            아이언맨, 캡틴 아메리카, 토르 등 수많은 캐릭터들이 한데 모여 거대한 스토리와 감정을 만들어내며, 각 캐릭터의 성장과 희생이 관객에게 깊은 감동을 준다.

영화의 강점은 스케일과 액션, 그리고 감정적 서사가 절묘하게 결합되어 있다는 점이다. 
캐릭터 간의 관계와 희생, 우정과 용기 이야기가 중심에 자리하며 단순한 블록버스터 이상의 서사적 몰입을 제공한다.

또한 팬서비스와 감정적 클라이맥스가 뛰어나다. 
아이언맨의 희생, 캡틴 아메리카의 결말 등은 단순한 스토리 진행을 넘어, 수많은 팬이 함께 느낄 수 있는 공감과 여운을 남긴다. 
음악과 연출, 캐릭터들의 마지막 선택이 완벽하게 조화를 이루며, MCU 팬에게 잊지 못할 영화적 경험을 선사한다.`,
          createdAt: "2025-09-29T14:20:00Z",
          author: "kanghee",
          like: 60,
          comment: 15,
          thumbnail: "",
        },
      ],
      setReviews: (data: Review) =>
        set((state) => {
          state.reviewsData.push(data);
        }),
      getReview: (id: number) => {
        const { reviewsData } = get();
        const data = reviewsData.find((review) => review.id === id);
        if (data === undefined) {
          return {
            id: 0,
            title: "",
            movie: "",
            content: "",
            createdAt: "",
            author: "",
            like: 0,
            comment: 0,
            thumbnail: "",
          } as Review;
        } else {
          return data;
        }
      },
    }))
  )
);
